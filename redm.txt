B97GVjzl9PTPw4U2 Ğ¿Ğ°Ñ€Ğ¾Ğ»
JElgi76QRsdxqi3X

git fetch origin && git reset --hard @{u} && git clean -fd

E2bt1ltdqZMQiyLuU0nHwwgkGJ8wrxnK9kgb5N3V

npm run ws:listener

Storage â†’ Cookies â†’ http://localhost:9002


ssh root@45.148.244.75
ClqVVFoUW0mMxfLbq6






rsync -az --delete --exclude ".next" --exclude "node_modules" \
  "/Users/oleksiizhyvotivskyi/Desktop/quiz-gra/" \
  root@45.148.244.75:/home/bugsy/quiz-time.pl/



ssh root@45.148.244.75 '
  set -e
  chown -R bugsy:bugsy /home/bugsy/quiz-time.pl
  su - bugsy -c "
    [ -s ~/.nvm/nvm.sh ] && . ~/.nvm/nvm.sh && nvm use 22.20.0 >/dev/null
    cd /home/bugsy/quiz-time.pl
    npm ci --no-audit --no-fund
    NODE_ENV=production npm run build

    pm2 delete quiz-time >/dev/null 2>&1 || true
    PORT=3005 pm2 start npm --name quiz-time --cwd /home/bugsy/quiz-time.pl -- start -- -p 3005
    pm2 save
  "
'

PM2Ğ¼
ssh root@45.148.244.75 'su - bugsy -c "pm2 startup systemd -u bugsy --hp /home/bugsy && pm2 save"'





ğŸ’¡ Ğ¥Ğ¾Ñ‡ĞµÑˆÑŒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²ÑÑ‘ Ğ±Ñ‹Ğ»Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹?

#!/bin/bash
set -e
rsync -az --delete --exclude ".next" --exclude "node_modules" \
  "/Users/oleksiizhyvotivskyi/Desktop/quiz-gra/" \
  root@45.148.244.75:/home/bugsy/quiz-time.pl/

ssh root@45.148.244.75 '
  set -e
  chown -R bugsy:bugsy /home/bugsy/quiz-time.pl
  su - bugsy -c "
    [ -s ~/.nvm/nvm.sh ] && . ~/.nvm/nvm.sh && nvm use 22.20.0 >/dev/null
    cd /home/bugsy/quiz-time.pl
    npm ci --no-audit --no-fund
    NODE_ENV=production npm run build
    pm2 delete quiz-time >/dev/null 2>&1 || true
    PORT=3005 pm2 start npm --name quiz-time --cwd /home/bugsy/quiz-time.pl -- start -- -p 3005
    pm2 save
  "
'




Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼ 
chmod +x deploy-quiz-time.sh
./deploy-quiz-time.sh




















Ğ²Ğ¾Ñ‚ Ñ‚Ğ°Ğº ÑĞ¸ĞºÑ€Ğ¸Ñ‚ Ğ¼Ñ– Ğ¾Ğ±Ğ²Ğ½Ğ¾Ğ²Ğ»ÑĞ»Ğ¸ supabase secrets set \
  SEND_SMS_HOOK_SECRETS="v1,whsec_5Y+rySpDVW5fSSoA3tU/VIHtavCCdHQY0NcdzyZyrzp4/NT4p1jrTFTLu0gPt4Oe6Z2fTFLrbCjkG475" \
  SMS_ACCESS_KEY="AyRShCS4aCFMAzfz0T0LTjJil1k0G9sdqZWa" \
  SMS_WORKSPACE_ID="66e4d909-c234-4bf3-9d44-88f299d9be9f" \
  SMS_CHANNEL_ID="7687ae22-8c1f-5d7f-8d46-4a6a62740f9c" \
  --project-ref usjnxyedapxkymlwicju  Ğ¸ÑÑ€Ğ°Ğ·Ñƒ Ğ¿Ğ¾ÑĞ»ĞµĞµÑ‚Ğ¾Ğ³Ğ¾ Ğ´ĞµĞ»Ğ°Ğ»Ğ¸ Ğ²Ğ¾Ñ‚ Ñ‚Ğ°Ğº supabase functions deploy send-sms-bird --no-verify-jwt --project-ref usjnxyedapxkymlwicju Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞ»Ğ¸ Ğ²Ğ¾Ñ‚ Ñ‚Ğ°Ğº ANON='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzam54eWVkYXB4a3ltbHdpY2p1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE2NTQ3ODgsImV4cCI6MjA3NzIzMDc4OH0.jmkGyOXAjDHiw-5ptVmqeelTb9WqTCZL2Rv7VeNgzo0'

curl -i "https://usjnxyedapxkymlwicju.supabase.co/auth/v1/otp" \
  -H "apikey: $ANON" \
  -H "Content-Type: application/json" \
  -d '{"phone":"+48572245574","type":"sms"}' 







  Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ… Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ– 


  sudo docker run --rm \
  -e PGPASSWORD="JElgi76QRsdxqi3X" \
  postgres:latest \
  pg_dump \
    --schema-only \
    --no-owner \
    --host=db.usjnxyedapxkymlwicju.supabase.co \
    --port=5432 \
    --username=postgres \
    --dbname=postgres \
  > quiztime_schema.sql









ssh root@45.148.244.75 '
  set -e
  chown -R bugsy:bugsy /home/bugsy/quiz-time.pl
  su - bugsy -c "
    [ -s ~/.nvm/nvm.sh ] && . ~/.nvm/nvm.sh && nvm use 22.20.0 >/dev/null
    cd /home/bugsy/quiz-time.pl
    npm ci --no-audit --no-fund
    NODE_ENV=production npm run build

    # restart main app
    pm2 delete quiz-time >/dev/null 2>&1 || true
    PORT=3005 pm2 start npm --name quiz-time --cwd /home/bugsy/quiz-time.pl -- start -- -p 3005

    # restart websocket listener
    pm2 delete ws-listener >/dev/null 2>&1 || true
    pm2 start npm --name ws-listener --cwd /home/bugsy/quiz-time.pl -- run ws:listener

    pm2 save
  "
'
